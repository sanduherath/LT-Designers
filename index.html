<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LT Designers</title>
  <style>
  .toggle-btn {
    transition: all 0.3s ease;
  }

  .cart-item {
    animation: slideIn 0.3s ease;
  }

  .cart-scroll::-webkit-scrollbar {
    width: 6px;
  }

  .cart-scroll::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
  }

  .cart-scroll::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 10px;
  }

  .cart-scroll::-webkit-scrollbar-thumb:hover {
    background: #555;
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
</head>
<body>
  <div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
  <!-- Breadcrumb -->
  <div class="px-6 py-2">
    <nav class="flex" aria-label="Breadcrumb">
      <ol
        class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse"
      >
        <li class="inline-flex items-center">
          <a
            href="{{ route('admin.menu') }}"
            class="inline-flex items-center text-sm font-medium text-gray-600 hover:text-blue-900"
          >
            Main Panel
          </a>
        </li>
        <li>
          <div class="flex items-center">
            <svg
              class="w-3 h-3 mx-1 text-gray-400"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
              ></path>
            </svg>
            <p class="ms-1 text-sm font-medium text-gray-700 md:ms-2">
              Product Frame
            </p>
          </div>
        </li>
      </ol>
    </nav>
  </div>

  <!-- Main Content -->
  <div class="px-6 pb-4">
    <div class="max-w-7xl mx-auto">
      <!-- Card Container -->
      <div
        class="bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200"
      >
        <!-- Toggle Buttons -->
        <div class="p-4 pb-0">
          <div class="flex gap-2 sm:gap-4 mb-4">
            <button
              id="autoBtn"
              class="toggle-btn flex-1 bg-blue-900 text-white py-2 sm:py-3 px-3 sm:px-6 rounded-lg font-semibold shadow-lg text-xs sm:text-base transition-all"
            >
              Automation Calculations
            </button>
            <button
              id="manualBtn"
              class="toggle-btn flex-1 bg-gray-300 text-gray-700 py-2 sm:py-3 px-3 sm:px-6 rounded-lg font-semibold text-xs sm:text-base transition-all"
            >
              Manual Calculations
            </button>
          </div>
        </div>

        <div class="p-4">
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
            <!-- Automation Calculations Form -->
            <div
              id="autoForm"
              class="lg:col-span-2 border-2 border-blue-900 rounded-xl p-4"
            >
              <h2
                class="text-lg sm:text-xl lg:text-2xl font-bold mb-4 text-center text-gray-800"
              >
                Automation Calculations
              </h2>

              <div class="form-scroll space-y-3">
                <!-- Frame -->
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Frame</label
                  >
                  <select
                    id="autoFrame"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  >
                    <option value="">Select Mesh</option>
                    <option value="500">Standard Frame - Rs 500</option>
                    <option value="700">Premium Frame - Rs 700</option>
                    <option value="900">Deluxe Frame - Rs 900</option>
                  </select>
                </div>

                <!-- Mesh Type -->
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Select Mesh Type</label
                  >
                  <div class="flex gap-4">
                    <button
                      id="autoPVC"
                      class="flex-1 py-2 px-3 rounded-lg bg-blue-900 text-white font-semibold text-sm transition-all"
                    >
                      PVC
                    </button>
                    <button
                      id="autoWaterbase"
                      class="flex-1 py-2 px-3 rounded-lg bg-gray-300 text-gray-700 font-semibold text-sm transition-all"
                    >
                      Waterbase
                    </button>
                  </div>
                </div>

                <!-- Stretching -->
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Stretching</label
                  >
                  <select
                    id="autoStretching"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  >
                    <option value="">Select Stretching</option>
                    <option value="500">Basic Stretching - Rs 500</option>
                    <option value="700">Advanced Stretching - Rs 700</option>
                  </select>
                </div>

                <!-- Exposin -->
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Exposin</label
                  >
                  <select
                    id="autoExposin"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  >
                    <option value="">Select Exposin</option>
                    <option value="500">Standard Exposin - Rs 500</option>
                    <option value="800">Premium Exposin - Rs 800</option>
                  </select>
                </div>

                <!-- Hardener -->
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Hardener</label
                  >
                  <select
                    id="autoHardener"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  >
                    <option value="">Select Hardener</option>
                    <option value="500">Standard Hardener - Rs 500</option>
                    <option value="600">Premium Hardener - Rs 600</option>
                  </select>
                </div>

                <!-- Washing -->
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Washing</label
                  >
                  <select
                    id="autoWashing"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  >
                    <option value="">Select Washing</option>
                    <option value="500">Basic Washing - Rs 500</option>
                    <option value="700">Deep Washing - Rs 700</option>
                  </select>
                </div>

                <!-- Total Price -->
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Total Price (LKR)</label
                  >
                  <input
                    type="text"
                    id="autoTotal"
                    readonly
                    class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg bg-gray-100 text-sm font-bold"
                    value="0.00"
                  />
                </div>

                <!-- Add Cart Button -->
                <button
                  id="autoAddCart"
                  class="w-full bg-blue-900 hover:bg-blue-800 text-white py-2 sm:py-3 rounded-lg font-semibold transition-all shadow-lg text-sm sm:text-base"
                >
                  Add to Cart
                </button>
              </div>
            </div>

            <!-- Manual Calculations Form -->
            <div
              id="manualForm"
              class="lg:col-span-2 border-2 border-blue-900 rounded-xl p-4 hidden"
            >
              <h2
                class="text-lg sm:text-xl lg:text-2xl font-bold mb-4 text-center text-gray-800"
              >
                Manual Calculations
              </h2>

              <div class="form-scroll grid grid-cols-2 gap-3">
                <!-- Width & Height -->
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Width</label
                  >
                  <input
                    type="number"
                    id="manualWidth"
                    placeholder="Enter Width"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  />
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Height</label
                  >
                  <input
                    type="number"
                    id="manualHeight"
                    placeholder="Enter Height"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  />
                </div>

                <!-- Frame -->
                <div class="col-span-2">
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Frame</label
                  >
                  <input
                    type="number"
                    id="manualFrame"
                    placeholder="Enter Frame Price"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  />
                </div>

                <!-- Mesh Type -->
                <div class="col-span-2">
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Select Mesh Type</label
                  >
                  <div class="flex gap-4">
                    <button
                      id="manualPVC"
                      class="flex-1 py-2 px-3 rounded-lg bg-blue-900 text-white font-semibold text-sm transition-all"
                    >
                      PVC
                    </button>
                    <button
                      id="manualWaterbase"
                      class="flex-1 py-2 px-3 rounded-lg bg-gray-300 text-gray-700 font-semibold text-sm transition-all"
                    >
                      Waterbase
                    </button>
                  </div>
                </div>

                <!-- Mesh Price -->
                <div class="col-span-2">
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Mesh Price</label
                  >
                  <input
                    type="number"
                    id="manualMesh"
                    placeholder="Enter Mesh Price"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  />
                </div>

                <!-- Other Fields -->
                <div class="col-span-2">
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Stretching</label
                  >
                  <input
                    type="number"
                    id="manualStretching"
                    placeholder="Enter Stretching Price"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  />
                </div>

                <div class="col-span-2">
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Exposin</label
                  >
                  <input
                    type="number"
                    id="manualExposin"
                    placeholder="Enter Exposin Price"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  />
                </div>

                <div class="col-span-2">
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Hardener</label
                  >
                  <input
                    type="number"
                    id="manualHardener"
                    placeholder="Enter Hardener Price"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  />
                </div>

                <div class="col-span-2">
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Washing</label
                  >
                  <input
                    type="number"
                    id="manualWashing"
                    placeholder="Enter Washing Price"
                    class="w-full px-3 py-2 border-2 border-blue-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"
                  />
                </div>

                <!-- Total Price -->
                <div class="col-span-2">
                  <label class="block text-sm font-semibold text-gray-700 mb-2"
                    >Total Price (LKR)</label
                  >
                  <input
                    type="text"
                    id="manualTotal"
                    readonly
                    class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg bg-gray-100 text-sm font-bold"
                    value="0.00"
                  />
                </div>

                <!-- Add Cart Button -->
                <div class="col-span-2">
                  <button
                    id="manualAddCart"
                    class="w-full bg-blue-900 hover:bg-blue-800 text-white py-2 sm:py-3 rounded-lg font-semibold transition-all shadow-lg text-sm sm:text-base"
                  >
                    Add to Cart
                  </button>
                </div>
              </div>
            </div>

            <!-- Cart Items Section -->
            <div class="lg:col-span-1">
              <div
                class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 border border-gray-200"
              >
                <h3
                  class="text-base sm:text-lg font-bold mb-3 text-center text-gray-800"
                >
                  Cart Items
                </h3>
                <div
                  id="cartItems"
                  class="cart-scroll space-y-3 max-h-96 overflow-y-auto"
                >
                  <p class="text-center text-gray-500 text-sm py-8">
                    No items in cart
                  </p>
                </div>
              </div>
              <div
                class="mt-4 text-center bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-3 shadow-lg"
              >
                <p class="text-lg sm:text-xl lg:text-2xl font-bold text-white">
                  Total: Rs <span id="totalPrice">0.00</span>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
<script src="https://cdn.tailwindcss.com"></script>
<script>
  // State
  let cartItems = [];
  let currentMode = "auto";
  let autoMeshType = "PVC";
  let manualMeshType = "PVC";

  // Toggle between modes
  document.getElementById("autoBtn").addEventListener("click", () => {
    currentMode = "auto";
    document
      .getElementById("autoBtn")
      .classList.add("bg-blue-900", "text-white");
    document
      .getElementById("autoBtn")
      .classList.remove("bg-gray-300", "text-gray-700");
    document
      .getElementById("manualBtn")
      .classList.add("bg-gray-300", "text-gray-700");
    document
      .getElementById("manualBtn")
      .classList.remove("bg-blue-900", "text-white");
    document.getElementById("autoForm").classList.remove("hidden");
    document.getElementById("manualForm").classList.add("hidden");
  });

  document.getElementById("manualBtn").addEventListener("click", () => {
    currentMode = "manual";
    document
      .getElementById("manualBtn")
      .classList.add("bg-blue-900", "text-white");
    document
      .getElementById("manualBtn")
      .classList.remove("bg-gray-300", "text-gray-700");
    document
      .getElementById("autoBtn")
      .classList.add("bg-gray-300", "text-gray-700");
    document
      .getElementById("autoBtn")
      .classList.remove("bg-blue-900", "text-white");
    document.getElementById("manualForm").classList.remove("hidden");
    document.getElementById("autoForm").classList.add("hidden");
  });

  // Auto mesh type toggle
  document.getElementById("autoPVC").addEventListener("click", () => {
    autoMeshType = "PVC";
    document
      .getElementById("autoPVC")
      .classList.add("bg-blue-900", "text-white");
    document
      .getElementById("autoPVC")
      .classList.remove("bg-gray-300", "text-gray-700");
    document
      .getElementById("autoWaterbase")
      .classList.add("bg-gray-300", "text-gray-700");
    document
      .getElementById("autoWaterbase")
      .classList.remove("bg-blue-900", "text-white");
    calculateAutoTotal();
  });

  document.getElementById("autoWaterbase").addEventListener("click", () => {
    autoMeshType = "Waterbase";
    document
      .getElementById("autoWaterbase")
      .classList.add("bg-blue-900", "text-white");
    document
      .getElementById("autoWaterbase")
      .classList.remove("bg-gray-300", "text-gray-700");
    document
      .getElementById("autoPVC")
      .classList.add("bg-gray-300", "text-gray-700");
    document
      .getElementById("autoPVC")
      .classList.remove("bg-blue-900", "text-white");
    calculateAutoTotal();
  });

  // Manual mesh type toggle
  document.getElementById("manualPVC").addEventListener("click", () => {
    manualMeshType = "PVC";
    document
      .getElementById("manualPVC")
      .classList.add("bg-blue-900", "text-white");
    document
      .getElementById("manualPVC")
      .classList.remove("bg-gray-300", "text-gray-700");
    document
      .getElementById("manualWaterbase")
      .classList.add("bg-gray-300", "text-gray-700");
    document
      .getElementById("manualWaterbase")
      .classList.remove("bg-blue-900", "text-white");
  });

  document.getElementById("manualWaterbase").addEventListener("click", () => {
    manualMeshType = "Waterbase";
    document
      .getElementById("manualWaterbase")
      .classList.add("bg-blue-900", "text-white");
    document
      .getElementById("manualWaterbase")
      .classList.remove("bg-gray-300", "text-gray-700");
    document
      .getElementById("manualPVC")
      .classList.add("bg-gray-300", "text-gray-700");
    document
      .getElementById("manualPVC")
      .classList.remove("bg-blue-900", "text-white");
  });

  // Auto calculation
  function calculateAutoTotal() {
    const frame = parseFloat(document.getElementById("autoFrame").value) || 0;
    const stretching =
      parseFloat(document.getElementById("autoStretching").value) || 0;
    const exposin =
      parseFloat(document.getElementById("autoExposin").value) || 0;
    const hardener =
      parseFloat(document.getElementById("autoHardener").value) || 0;
    const washing =
      parseFloat(document.getElementById("autoWashing").value) || 0;
    const meshPrice = autoMeshType === "PVC" ? 500 : 500;

    const total = frame + meshPrice + stretching + exposin + hardener + washing;
    document.getElementById("autoTotal").value = total.toFixed(2);
  }

  // Manual calculation
  function calculateManualTotal() {
    const frame = parseFloat(document.getElementById("manualFrame").value) || 0;
    const mesh = parseFloat(document.getElementById("manualMesh").value) || 0;
    const stretching =
      parseFloat(document.getElementById("manualStretching").value) || 0;
    const exposin =
      parseFloat(document.getElementById("manualExposin").value) || 0;
    const hardener =
      parseFloat(document.getElementById("manualHardener").value) || 0;
    const washing =
      parseFloat(document.getElementById("manualWashing").value) || 0;

    const total = frame + mesh + stretching + exposin + hardener + washing;
    document.getElementById("manualTotal").value = total.toFixed(2);
  }

  // Event listeners for auto calculation
  [
    "autoFrame",
    "autoStretching",
    "autoExposin",
    "autoHardener",
    "autoWashing",
  ].forEach((id) => {
    document.getElementById(id).addEventListener("change", calculateAutoTotal);
  });

  // Event listeners for manual calculation
  [
    "manualFrame",
    "manualMesh",
    "manualStretching",
    "manualExposin",
    "manualHardener",
    "manualWashing",
    "manualWidth",
    "manualHeight",
  ].forEach((id) => {
    document.getElementById(id).addEventListener("input", calculateManualTotal);
  });

  // Add to cart
  document.getElementById("autoAddCart").addEventListener("click", () => {
    const total = parseFloat(document.getElementById("autoTotal").value);
    if (total > 0) {
      addCartItem("auto", total);
    } else {
      alert("Please select options to add to cart");
    }
  });

  document.getElementById("manualAddCart").addEventListener("click", () => {
    const total = parseFloat(document.getElementById("manualTotal").value);
    if (total > 0) {
      addCartItem("manual", total);
    } else {
      alert("Please enter values to add to cart");
    }
  });

  function addCartItem(type, total) {
    const item = {
      id: Date.now(),
      type: type,
      frame:
        type === "auto"
          ? document.getElementById("autoFrame").value
          : document.getElementById("manualFrame").value,
      meshType: type === "auto" ? autoMeshType : manualMeshType,
      stretching:
        type === "auto"
          ? document.getElementById("autoStretching").value
          : document.getElementById("manualStretching").value,
      exposin:
        type === "auto"
          ? document.getElementById("autoExposin").value
          : document.getElementById("manualExposin").value,
      hardener:
        type === "auto"
          ? document.getElementById("autoHardener").value
          : document.getElementById("manualHardener").value,
      washing:
        type === "auto"
          ? document.getElementById("autoWashing").value
          : document.getElementById("manualWashing").value,
      width:
        type === "manual" ? document.getElementById("manualWidth").value : null,
      height:
        type === "manual"
          ? document.getElementById("manualHeight").value
          : null,
      mesh:
        type === "manual" ? document.getElementById("manualMesh").value : null,
      total: total,
    };

    cartItems.push(item);
    renderCart();
  }

  function renderCart() {
    const cartContainer = document.getElementById("cartItems");
    cartContainer.innerHTML = "";

    if (cartItems.length === 0) {
      cartContainer.innerHTML =
        '<p class="text-center text-gray-500 text-sm py-8">No items in cart</p>';
      updateTotalPrice();
      return;
    }

    cartItems.forEach((item, index) => {
      const div = document.createElement("div");
      div.className =
        "cart-item bg-white rounded-lg p-3 shadow-md border border-gray-200 relative";
      div.innerHTML = `
                    <div class="flex items-start justify-between mb-2">
                        <div class="flex items-center gap-2">
                            <span class="bg-blue-900 text-white px-2 py-1 rounded-lg text-xs font-bold">Item ${
                              index + 1
                            }</span>
                            <span class="text-xs font-semibold text-gray-600">${
                              item.type === "auto" ? "Auto" : "Manual"
                            }</span>
                        </div>
                        <button class="text-red-600 hover:text-red-800 transition" onclick="removeItem(${
                          item.id
                        })">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    <div class="text-xs space-y-1">
                        ${
                          item.width && item.height
                            ? `<div class="flex justify-between"><span class="font-semibold text-gray-700">Dimensions</span><span class="text-gray-900">${item.width} × ${item.height}</span></div>`
                            : ""
                        }
                        <div class="flex justify-between"><span class="font-semibold text-gray-700">Frame</span><span class="text-gray-900">Rs ${
                          item.frame || "0"
                        }</span></div>
                        <div class="flex justify-between"><span class="font-semibold text-gray-700">Mesh Type</span><span class="text-gray-900">${
                          item.meshType
                        } ${
        item.mesh ? "Rs " + item.mesh : "Rs 500"
      }</span></div>
                        <div class="flex justify-between"><span class="font-semibold text-gray-700">Stretching</span><span class="text-gray-900">Rs ${
                          item.stretching || "0"
                        }</span></div>
                        <div class="flex justify-between"><span class="font-semibold text-gray-700">Exposin</span><span class="text-gray-900">Rs ${
                          item.exposin || "0"
                        }</span></div>
                        <div class="flex justify-between"><span class="font-semibold text-gray-700">Hardener</span><span class="text-gray-900">Rs ${
                          item.hardener || "0"
                        }</span></div>
                        <div class="flex justify-between"><span class="font-semibold text-gray-700">Washing</span><span class="text-gray-900">Rs ${
                          item.washing || "0"
                        }</span></div>
                        <div class="flex justify-between pt-2 mt-2 border-t-2 border-gray-200 font-bold">
                            <span class="text-gray-800">Total</span><span class="text-blue-900">Rs ${item.total.toFixed(
                              2
                            )}</span>
                        </div>
                    </div>
                `;
      cartContainer.appendChild(div);
    });

    updateTotalPrice();
  }

  function removeItem(id) {
    cartItems = cartItems.filter((item) => item.id !== id);
    renderCart();
  }

  function updateTotalPrice() {
    const total = cartItems.reduce((sum, item) => sum + item.total, 0);
    document.getElementById("totalPrice").textContent = total.toFixed(2);
  }

  // Make removeItem global
  window.removeItem = removeItem;

  // Initialize
  renderCart();
</script>

@endsection
